{"mappings":"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","sources":["./node_modules/@babel/runtime/helpers/typeof.js","./node_modules/@babel/runtime/helpers/interopRequireWildcard.js","./网页笔记/config.ts","./网页笔记/util.ts","./api自动提取/api自动提取.user.ts","./api自动提取/util.ts","./api自动提取/parse/apiToTypeScriptCode.ts","./api自动提取/parse/rap2-taobo.ts","./api自动提取/parse/showDocApi.ts","./api自动提取/parse/swagger-bootstrap-ui.ts","./util/dom/elment.ts","./api自动提取/parse/yapi.ts"],"sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var _typeof = require(\"../helpers/typeof\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;","\n/** 是不是开发环境 */\nexport const isDev= false\n\nconst config={\n    state: 0,\n    /** 是否开启编辑 *///是开发环境自动开启\n    elementEdit: isDev,\n    /** 服务器地址 */\n    serverIp: 'https://shenzilong.cn/note/',// isDev ? 'https://127.0.0.1/note/' : 'https://shenzilong.cn/note/',\n    /** 页面的url */\n    locationUrl: decodeURIComponent(location.origin + location.pathname),\n    /** 存储登录凭证的 */\n    loginCredentials:'loginCredentials',\n}\n/** 存储命令栈的地方 */\nexport const AllStoreName = '_storeName_llej_' + config.locationUrl\n\nexport default config\n","import { isDev } from \"./config\";\n\n/** 用于复制文本的input   */\nconst input_copy = document.createElement(\"textarea\");\ninput_copy.id = \"__\";\ninput_copy.style.display = \"none\"; //不能设置为none因为会导致没有可访问性\ninput_copy.setAttribute(\n  \"style\",\n  `\n        position: absolute;\n        top: -9999px;\n        left: -9999px;`,\n);\ndocument.body.appendChild(input_copy);\n/** 复制一个元素的titil 或者一段字符串到剪贴板 */\nexport function copyTitle(el: HTMLElement | string) {\n  let title;\n  if (typeof el === \"string\") title = el;\n  else title = el.getAttribute(\"title\");\n\n  input_copy.setAttribute(\"readonly\", \"readonly\");\n  input_copy.setAttribute(\"value\", title);\n  input_copy.value = title;\n  input_copy.select();\n  input_copy.setSelectionRange(0, 9999);\n  document.execCommand(\"copy\");\n}\n/** 工具类 */\nexport default {\n  copyTitle,\n};\n\n/** 获取一个元素的选择器 */\nexport function getSelectors(el: Element) {\n  /** 通过path路径来确定元素 */\n  let pathSelectors = nodePath(el)\n    .reverse()\n    .map((el) => {\n      return el.nodeName + `:nth-child(${getIndex(el)})`;\n    })\n    .join(\">\");\n\n  /** 通过id以及class来确定元素 */\n  let id_className = \"\";\n  const id = el.id;\n  if (id) id_className += `#${id}`;\n\n  el.classList.forEach((className) => {\n    id_className += `.${className}`;\n  });\n\n  /** nth-child 选择 看它是第几个元素 */\n  const index = getIndex(el);\n\n  /** 最终构造出来的选择器 */\n  return `${pathSelectors}${id_className}:nth-child(${index})`;\n}\n\n/** 获取元素它在第几位 */\nexport function getIndex(el: Element) {\n  if (el.nodeName === \"HTML\") return 1;\n  return 1 + Array.from(el.parentElement.children).findIndex((child) => child === el);\n}\n\n/** 获取一个元素的所有父节点到html为止  */\nexport function nodePath(...path: Element[]): HTMLElement[] {\n  while (path[path.length - 1].parentElement != null) {\n    path.push(path[path.length - 1].parentElement);\n  }\n  /** 只需要是HTMLElement的 */\n  const HTMLElementPath = <HTMLElement[]>path.filter((el) => el instanceof HTMLElement);\n  return HTMLElementPath;\n}\n\nexport async function getJSon(url: string, data?: any) {\n  const str = await ajax_get(url, data);\n  const res = JSON.parse(str);\n  console.log(url, data, res);\n  return res;\n}\n\n/** 油猴的ajaxget */\nexport function ajax_get(url: string, data?: any): Promise<string> {\n  if (data) url += \"?\" + jsonToURLpar(data);\n  if (window.hasOwnProperty(\"GM\") && window.hasOwnProperty(\"GM\"))\n    return new Promise((resolve, reject) => {\n      GM.xmlHttpRequest({\n        method: \"GET\",\n        url,\n        onload: function (response: any) {\n          resolve(response.responseText);\n        },\n        onerror: reject,\n      });\n    });\n  else\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      xhr.addEventListener(\"load\", function () {\n        resolve(xhr.responseText);\n      });\n      xhr.addEventListener(\"error\", reject);\n      xhr.open(\"get\", url);\n      xhr.send();\n    });\n}\n\n/** json 转 urlpar 只能转一层 */\nfunction jsonToURLpar(json: any) {\n  return Object.keys(json)\n    .map(function (key) {\n      return encodeURIComponent(key) + \"=\" + encodeURIComponent(json[key]);\n    })\n    .join(\"&\");\n}\n\n/** 开发时的调试log */\nexport function log(...arg: any[]) {\n  if (isDev) console.log(`[dev] `, ...arg);\n}\n","import * as util from \"../网页笔记/util\";\nimport { api } from \"./i_api\";\nimport { apiToTypeScriptCode } from \"./parse/apiToTypeScriptCode\";\nimport { getRap2Api } from \"./parse/rap2-taobo\";\nimport { getShowDocApi } from \"./parse/showDocApi\";\nimport { swagger_bootstrap_ui } from \"./parse/swagger-bootstrap-ui\";\nimport { getYapiApi, 修改人列表_扩展 } from \"./parse/yapi\";\n\n// ==UserScript==\n// @name         api自动提取\n// @namespace    http://tampermonkey.net/\n// @version      1.1.3\n// @description  使用方式是打开控制台，输入_api你可以看到一些方法，在支持的网站执行对应的方法就ok了，\n// @author       崮生 2234839456@qq.com\n// @include      *://www.showdoc.cc/*\n// @include      *://192.*\n// @include      *://rap2.taobao.org/*\n// @grant        unsafeWindow\n// @connect      shenzilong.cn\n// ==/UserScript==\n(async function () {\n  const uw = window.unsafeWindow ? window.unsafeWindow : window;\n\n  async function getCode(fun: () => Promise<api>) {\n    return async () => {\n      const api = apiToTypeScriptCode(await fun());\n      util.copyTitle(api);\n      return api;\n    };\n  }\n  const api = {\n    getShowDocApiCode: await getCode(getShowDocApi),\n    getYapiApiCode: await getCode(getYapiApi),\n    get_swagger_bootstrap_ui_code: await getCode(swagger_bootstrap_ui),\n    get_rap2_taobao_code: await getCode(getRap2Api),\n  };\n  uw._api = api;\n  type f = () => Promise<string>;\n  let get_api = undefined as undefined | f;\n  if (document.getElementById(\"yapi\")) {\n    修改人列表_扩展();\n    set_default(api.getYapiApiCode);\n  }\n\n  /** 设置当前默认使用的api */\n  function set_default(f: f) {\n    get_api = f;\n    复制按钮_扩展();\n  }\n\n  function 复制按钮_扩展() {\n    const btn = document.createElement(\"button\");\n    btn.textContent = \"生成代码\";\n    btn.style.cssText = `\n      z-index:60;\n      position: fixed;\n      top: 100px;right:20px;\n    `;\n    btn.addEventListener(\"click\", async () => {\n      util.copyTitle(await get_api());\n      alert(\"复制成功\");\n    });\n    document.body.appendChild(btn);\n  }\n  // 拖拽多选();\n  // setTimeout(() => {\n  //   const code = uw._api.getYapiApiCode();\n  //   console.log(code);\n\n  //   util.copyTitle(code);\n  // }, 3000);\n})();\n","/** 将url转为友好的名字 */\nexport function urlToName(url: string) {\n  // return url.match(/\\d+\\.\\d+\\.\\d+\\.\\d+(.*)/)[1].split('/').map(str => str.replace(/\\//g, '')).join('_')\n  return url\n    .split(\"/\")\n    .map((str) => str.replace(/[^a-zA-Z0-9]/g, \"_\"))\n    .join(\"_\");\n}\n\nexport function qALL<T>(selector: string, t?: T) {\n  interface NodeList<T extends Node> extends NodeListOf<T> {\n    /** 扩展用法,通过textContent过滤出元素数组 */\n    includes(text: string): Element[];\n  }\n  const res = <NodeList<Element>>(<unknown>document.querySelectorAll(selector));\n  res.includes = function (text) {\n    return Array.from(res).filter((el) => {\n      return el.textContent.includes(text);\n    });\n  };\n  return res;\n}\n\nexport function getTextConten(el: Element) {\n  if (el !== undefined && \"textContent\" in el) {\n    return el.textContent;\n  } else {\n    console.warn(\"textContent 属性不存在\", el);\n    return \"\";\n  }\n}\n\n/** 将table元素解析为字符串二维数组 */\nexport function getTable(\n  el: HTMLElement,\n  tr_selector = \"tr\",\n  td_selector = \"td\",\n  /** 特定元素的识别器 */ recognizer: {\n    [i: number]: (el: HTMLElement) => string;\n  } = {},\n) {\n  const table: string[][] = [];\n\n  if (el === null) {\n    return table;\n  }\n  for (let i = 0; i < el.querySelectorAll(tr_selector).length; i++) {\n    /** tr */\n    const tr_el = el.querySelectorAll(tr_selector)[i];\n    const tr = [];\n    for (let j = 0; j < tr_el.querySelectorAll(td_selector).length; j++) {\n      /** tr */\n      const td_el = <HTMLElement>tr_el.querySelectorAll(td_selector)[j];\n      if (recognizer[j] !== undefined) {\n        tr.push(recognizer[j](td_el));\n      } else {\n        tr.push(td_el.textContent.trim());\n      }\n    }\n    table.push(tr);\n  }\n  return table;\n}\n\n/** 获取指定元素的TextContent */\nexport function getElText(selector: string) {\n  const el = document.querySelector(selector);\n  if (el === null) {\n    return \"\";\n  }\n  return el.textContent;\n}\n/** 复制某个字符串多少次 */\nexport function copyStr(el: string, length: number) {\n  let str = \"\";\n  for (let index = 0; index < length; index++) {\n    str += el;\n  }\n  return str;\n}\n","import { api, par } from \"../i_api\";\nimport { urlToName, copyStr } from \"../util\";\n\n/** 将api转为ts的代码 */\nexport function apiToTypeScriptCode(api: api) {\n  console.log(api);\n  const name = urlToName(api.url);\n  return `\n        /** ${api.name} */\n        static ${name}(params?:\n            ${parse_par_List(api.parList)}\n        ):Promise< ${parse_par_List(api.resList)} >{ return ${api.method.toLocaleLowerCase()}('${api.url}', params) }`;\n}\n\n/** 解析api的par为字符串 */\nfunction parse_par_item(par: par, level = 0) {\n  if (!par.children && !par.name) {\n    return par.type;\n  }\n  if (par.type === \"Array\") {\n    return `${parse_par_List(par.children, level + 1)}${\n      /** 处理数组类型 */ par.type.includes(\"[]\") || par.type === \"Array\" ? \"[]\" : \"\"\n    }`;\n  }\n  return `${copyStr(\"\\t\", level)}/** ${par.type} ${par.describe} */${par.name}${par.must ? \"\" : \"?\"}: ${((): string => {\n    if (par.children === undefined) {\n      return par.type\n        .replace(\"string(\", \"_string(\") /** string 这种基本类型不能够使用引用的方式解决，所以加上一个_来区分 */\n        .replace(\"number(\", \"_number(\")\n        .replace(\"String\", \"string\") /** 基元类型不要用 */\n        .replace(\"Number\", \"number\")\n        .replace(\"Boolean\", \"boolean\")\n        .replace(\"(\", \"<\")\n        .replace(\")\", \">\")\n        .replace(\"-\", \"_\");\n    } else {\n      return `${parse_par_List(par.children, level + 1)}${\n        /** 处理数组类型 */ par.type.includes(\"[]\") || par.type === \"Array\" ? \"[]\" : \"\"\n      }`;\n    }\n  })()}`;\n}\n\n/** 解析api的par数组为字符串 */\nfunction parse_par_List(par: par[], level = 1) {\n  if (par.find((el) => el.name !== \"\") === undefined) {\n    /** 属性全都是没有名字的，断定外层为数组 */\n    return `(\\r${par.map((el) => parse_par_item(el, level)).join(\",\\n\")})`;\n  } else {\n    return `{\\r${par.map((el) => parse_par_item(el, level)).join(\",\\n\")}}`;\n  }\n}\n","import { getTable, getTextConten, getElText } from \"../util\";\nimport { api, par } from \"../i_api\";\n\n/** 获取rap2平台的api */\nexport async function getRap2Api(): Promise<api> {\n  console.log(\"参数列表=========================\");\n\n  const par_el = <HTMLElement>(\n    document.querySelector(\n      \"#root > article > div.body > article > div.body > div > article.InterfaceEditor > section:nth-child(2) > div.body > div > div.RSortableWrapper.depth-1\",\n    )\n  );\n  /** 参数名称 参数说明 请求类型 是否必须 数据类型 schema */\n  const par_table = getTable(par_el, \".SortableTreeTableRow\", \".td.payload\", [\n    undefined,\n    (el) => {\n      return el.querySelector(\"input\").checked ? \"true\" : \"false\";\n    },\n  ]);\n\n  const res_el = <HTMLElement>(\n    document.querySelector(\n      \"#root > article > div.body > article > div.body > div > article.InterfaceEditor > section:nth-child(3) > div.body > div > div.RSortableWrapper.depth-1\",\n    )\n  );\n  /** 参数名称 参数说明 类型 schema */\n  const res_table = getTable(res_el, \".SortableTreeTableRow\", \".td.payload\", [\n    undefined,\n    (el) => {\n      return el.querySelector(\"input\").checked ? \"true\" : \"false\";\n    },\n  ]);\n  console.log(\"参数和响应\", par_el, res_el, par_table, res_table);\n  const get_level_list = (table: HTMLElement) => {\n    const tr_list = table.querySelectorAll(\".SortableTreeTableRow\");\n    return Array.from(tr_list).map((tr) => {\n      const match = tr.parentElement.className.match(/depth(\\d)/);\n      if (match === null) return 0;\n      else {\n        return Number(match[1]) + 1;\n      }\n    });\n  };\n  const api: api = {\n    url: getElText(\".summary li:nth-child(1) a\"),\n    name: getElText(\n      \"#root > article > div.body > article > div.body > div > article.InterfaceEditor > div > div > span\",\n    ),\n    describe: \"\",\n    method: getElText(\n      \"#root > article > div.body > article > div.body > div > article.InterfaceEditor > div > ul > li:nth-child(2) > span > span:nth-child(2)\",\n    ),\n    parList: reduction_tree(\n      par_el,\n      par_table.map((str_list) => {\n        return {\n          name: str_list[0].replace(/BODY$/, \"\").replace(/QUERY$/, \"\"),\n          must: str_list[1] === \"true\",\n          type: str_list[2],\n          describe: str_list[5],\n        };\n      }),\n      get_level_list,\n    ),\n    resList: reduction_tree(\n      res_el,\n      res_table.map((str_list) => {\n        return {\n          name: str_list[0],\n          must: str_list[1] === \"true\",\n          type: str_list[2],\n          describe: str_list[5],\n        };\n      }),\n      get_level_list,\n    ),\n  };\n  console.log(\"最终结果\", par_table, res_table, api);\n\n  return api;\n}\n\n/** 根据table 获取到树的结构 */\nexport function reduction_tree(\n  /** table 元素 */\n  table: HTMLElement,\n  /** 参数列表 */\n  parList: par[],\n  /** 提取等级的函数，用于生成等级数组 */\n  get_level_list: (table: HTMLElement) => number[],\n) {\n  /** 等级数组 [0,1,1,1,2,2,1,1] 这样的 */\n  const level_list = get_level_list(table);\n\n  /** 最高级 */\n  const hierarchy: par[] = [];\n  let current_hierarchy = hierarchy;\n  for (let i = 0; i < level_list.length; i++) {\n    const level = level_list[i];\n    if (i === 0) {\n      current_hierarchy.push(parList[i]);\n      continue;\n    }\n    /** 同级元素 */\n    if (level > level_list[i - 1]) {\n      /** 按一般规律来说它就是 当前层级数组最后一个元素的 子级 */\n      const parent = current_hierarchy[current_hierarchy.length - 1];\n      if (parent.children === undefined) {\n        parent.children = [];\n      }\n      /** 指向下一级 */\n      current_hierarchy = parent.children;\n    } else if (level === level_list[i - 1]) {\n      /** 同级的 */\n    } else {\n      /** 小于的要提升当前层级 */\n      /** 从最高的0级开始降级,直到它所在的等级 */\n      let demotion_temp = hierarchy;\n      /** 开始降级 */\n      for (let i = 0; i < level; i++) {\n        /** 按一般规律来说 它一定生成在最后一个元素的子级 */\n        demotion_temp = demotion_temp[demotion_temp.length - 1].children;\n      }\n      /** 指向将到的级别 */\n      current_hierarchy = demotion_temp;\n    }\n    /** 将元素添加到当前层级 */\n    current_hierarchy.push(parList[i]);\n  }\n  return hierarchy;\n}\n","import { api } from \"../i_api\";\nimport { qALL, getTextConten } from \"../util\";\n\n/** 获取showDoc平台的api */\nexport async function getShowDocApi(): Promise<api> {\n  const api: api = {\n    url: getTextConten(qALL(\"main .main-editor li\")[1]),\n    name: getTextConten(qALL(\"main div\")[0]),\n    describe: getTextConten(qALL(\"main .main-editor li\")[1]),\n    method: getTextConten(qALL(\"main .main-editor li\")[2]),\n    parList: Array.from(qALL(\"table\")[0].querySelectorAll(\"tr\"))\n      .filter((el, i) => {\n        return i !== 0;\n      })\n      .filter((el) => {\n        /** 他有时参数列表不全，通过这个去除空 */\n        if (getTextConten(el.querySelectorAll(\"td\")[0]) === \"\" && getTextConten(el.querySelectorAll(\"td\")[2]) === \"\")\n          return false;\n        return true;\n      })\n      .map((el) => {\n        return {\n          name: getTextConten(el.querySelectorAll(\"td\")[0]),\n          /** 是否必需 */\n          must: getTextConten(el.querySelectorAll(\"td\")[1]) === \"是\",\n          type: getTextConten(el.querySelectorAll(\"td\")[2]),\n          describe: getTextConten(el.querySelectorAll(\"td\")[3]),\n        };\n      }),\n    /** 返回结果的列表 */\n    resList: Array.from(qALL(\"table\")[1].querySelectorAll(\"tr\"))\n      .filter((el, i) => {\n        return i !== 0;\n      })\n      .map((el) => {\n        return {\n          name: getTextConten(el.querySelectorAll(\"td\")[0]),\n          /** 是否必需 */\n          must: true,\n          type: getTextConten(el.querySelectorAll(\"td\")[1]),\n          describe: getTextConten(el.querySelectorAll(\"td\")[2]),\n        };\n      }),\n  };\n  return api;\n}\n","import { getTable, getTextConten, getElText } from \"../util\";\nimport { api, par } from \"../i_api\";\n\n/** 获取 swagger_bootstrap_ui 页面的ui */\nexport async function swagger_bootstrap_ui(): Promise<api> {\n    const this_tab = document.querySelector('.layui-tab-item.layui-show .swbu-main')\n\n    const par_el=this_tab.querySelectorAll(\"table\")[2]\n    const res_el=this_tab.querySelectorAll(\"table\")[6]\n\n    /** 参数名称 参数说明 请求类型 是否必须 数据类型 schema */\n    const par_table = getTable(par_el)\n    /** 参数名称 参数说明 类型 schema */\n    const res_table = getTable(res_el)\n\n    console.log(par_table, res_table);\n    const api: api = {\n        url: this_tab.querySelector('div p:nth-child(1) code').textContent,\n        name: getElText('.layui-tab-item.layui-show .tab-pane div:nth-child(2) div'),\n        describe: this_tab.querySelector('div p:nth-child(5) code').textContent,\n        method: this_tab.querySelector('div p:nth-child(2) code').textContent,\n        parList: reduction_tree(par_el, par_table.map(str_list => {\n            return {\n                name: str_list[0],\n                must: str_list[3] === \"true\",\n                type: str_list[4],\n                describe: str_list[1],\n            }\n        })),\n        resList:reduction_tree(res_el, res_table.map(str_list => {\n            return {\n                name: str_list[0],\n                must: undefined,\n                type: str_list[2],\n                describe: str_list[1],\n            }\n        })) ,\n    }\n    console.log(\"最终结果\",par_table, res_table, api);\n\n    return api\n\n}\n\n\n/** 根据table 获取到树的结构 */\nfunction reduction_tree(table: HTMLTableElement, parlist: par[]) {\n    /** 等级数组 [0,1,1,1,2,2,1,1] 这样的 */\n    const level_list = Array.from(table.querySelectorAll('tr td:nth-child(1)'))\n        .map(el => {\n            /** swagger-bootstrap-ui 层级越高 这种元素越多 */\n            return el.querySelectorAll('.treeTable-empty').length\n        })\n\n    /** 最高级 */\n    const hierarchy: par[] = []\n    let current_hierarchy = hierarchy\n    for (let i = 0; i < level_list.length; i++) {\n        const level = level_list[i];\n        if (i === 0) {\n            current_hierarchy.push(parlist[i])\n            continue;\n        }\n        /** 同级元素 */\n        if (level > level_list[i - 1]) { /** 按一般规律来说它就是 当前层级数组最后一个元素的 子级 */\n            const parent = current_hierarchy[current_hierarchy.length - 1]\n            if (parent.children === undefined) {\n                parent.children = []\n            }\n            /** 指向下一级 */\n            current_hierarchy = parent.children\n\n        } else if (level === level_list[i - 1]) { /** 同级的 */\n\n        } else { /** 小于的要提升当前层级 */\n            /** 从最高的0级开始降级,直到它所在的等级 */\n            let demotion_temp = hierarchy\n            /** 开始降级 */\n            for (let i = 0; i < level; i++) {\n                /** 按一般规律来说 它一定生成在最后一个元素的子级 */\n                demotion_temp = demotion_temp[demotion_temp.length - 1].children\n            }\n            /** 指向将到的级别 */\n            current_hierarchy = demotion_temp\n        }\n        /** 将元素添加到当前层级 */\n        current_hierarchy.push(parlist[i])\n    }\n    return hierarchy\n}\n","export function 检测元素状态(\n  selector: string,\n  出现: (el: HTMLElement) => void,\n  变化: (el: HTMLElement) => void,\n  消失: () => void,\n) {\n  let status = false;\n  let html = \"\";\n  setInterval(() => {\n    const el = document.querySelector(selector) as HTMLElement;\n    if (status && el && el.innerHTML !== html) {\n      html = el.innerHTML;\n      变化(el);\n    }\n    if (el && !status) {\n      status = true;\n      出现(el);\n    } else if (!el && status) {\n      status = false;\n      消失();\n    }\n  }, 100);\n}\n\nexport { getSelectors } from \"../../网页笔记/util\";\n","import { api, par } from \"../i_api\";\nimport { qALL, getTable } from \"../util\";\nimport { reduction_tree } from \"./rap2-taobo\";\nimport { 检测元素状态 } from \"../../util/dom/elment\";\n\nconst $$ = qALL;\n\n/** 获取Yapi平台的api */\nexport async function getYapiApi(): Promise<api> {\n  await new Promise((s) => {\n    参数全展开(s);\n  });\n  const desNodeList = $$(\".interface-title\").includes(\"备注\");\n  const describe = desNodeList.length === 0 ? \"\" : desNodeList[0].nextElementSibling.textContent;\n  const res_el = <HTMLElement>(\n    document.querySelector(\n      \"div.ant-table-wrapper:nth-child(7) > div:nth-child(1) > div:nth-child(1) > div:nth-child(1) > div:nth-child(1) > div:nth-child(1) > table:nth-child(1) > tbody:nth-child(3)\",\n    )\n  );\n  /** 参数名称 类型 是否必须 默认值 备注 其他信息*/\n  const res_table = getTable(res_el, \"tr\", \"td\", [\n    undefined,\n    undefined,\n    (el) => {\n      return el.textContent !== \"非必须\" ? \"true\" : \"false\";\n    },\n  ]);\n  /** body 参数 */\n  const par_table = Array.from($$(\".col-title\"))\n    .filter((el) => el.textContent.startsWith(\"Body\"))[0]\n    .parentElement.querySelector(\"table\");\n  const api: api = {\n    url: $$(\".tag-method + span\")[0].textContent,\n    name: $$(\".interface-title + div div div:nth-child(2)\")[0].textContent,\n    describe,\n    method: $$(\".tag-method\")[0].textContent,\n    parList: reduction_tree(\n      par_table,\n      Array.from(par_table.querySelectorAll(\"tr\"))\n        .filter((el, i) => {\n          // console.log(\"[        el]\", el, el.querySelectorAll(\"td\")[0].textContent);\n          return /** 第一行是标题 */ i !== 0;\n        })\n        .map((el) => {\n          return {\n            name: el.querySelectorAll(\"td\")[0].textContent,\n            /** 是否必需 */\n            must: el.querySelectorAll(\"td\")[2].textContent !== \"非必须\",\n            type: yapTypePar(el),\n            describe: el.querySelectorAll(\"td\")[4].textContent,\n          };\n        }),\n      (el) => {\n        const tr = el.querySelectorAll(\"tbody tr\");\n        const level = Array.from(tr).map((tr) => {\n          return Number(tr.className.replace(/.*(\\d+)/, \"$1\"));\n        });\n        return level;\n      },\n    ),\n\n    resList: reduction_tree(\n      res_el,\n      res_table.map((str_list, i) => {\n        return {\n          name: str_list[0],\n          must: str_list[2] === \"true\",\n          type: yapTypeRes(res_table, i),\n          describe: `${str_list[4]} ${str_list[5]}`,\n        };\n      }),\n      (el) => {\n        const tr = el.querySelectorAll(\"tr\");\n        const level = Array.from(tr).map((tr) => {\n          return Number(tr.className.replace(/.*(\\d+)/, \"$1\"));\n        });\n        console.log(level, el, tr);\n\n        return level;\n      },\n    ),\n  };\n  return api;\n}\n\nexport function 修改人列表_扩展() {\n  const f = (ant_row_2: HTMLElement) => {\n    const api = location.href.replace(/.*api\\/(\\d+)/, \"$1\");\n    const project = location.href.replace(/.*project\\/(\\d+).*/, \"$1\");\n    var xhr = new XMLHttpRequest();\n    xhr.addEventListener(\"readystatechange\", function () {\n      if (this.readyState === 4) {\n        const data = JSON.parse(this.responseText).data.list as {\n          content: string;\n          uid: number;\n          /** 秒数 */\n          add_time: number;\n        }[];\n        const _edit_list = \"_edit_list\";\n        const edit_list = document.querySelector(\".\" + _edit_list);\n        if (edit_list) {\n          edit_list.remove();\n        }\n        const div = document.createElement(\"div\");\n        div.classList.add(_edit_list);\n        div.innerHTML = data\n          .map((el) => {\n            return `${new Date(el.add_time * 1000).toLocaleString()} <img src=\"/api/user/avatar?uid=${\n              el.uid\n            }\" style=\"width: 20px;height: 100%;\"/> ${el.content}`;\n          })\n          .join(\"\");\n        ant_row_2.parentElement.appendChild(div);\n      }\n    });\n    xhr.open(\"GET\", `/api/log/list?typeid=${project}&type=project&page=1&limit=10&selectValue=${api}`);\n    xhr.setRequestHeader(\n      \"User-Agent\",\n      \"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:77.0) Gecko/20100101 Firefox/77.0\",\n    );\n    xhr.setRequestHeader(\"Accept\", \"application/json, text/plain, */*\");\n    xhr.setRequestHeader(\"Accept-Language\", \"zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\");\n    xhr.send();\n  };\n  检测元素状态(\"div.ant-row:nth-child(1)\", f, f, () => {});\n}\n\nexport function 参数全展开(cb: () => void) {\n  const id = setInterval(() => {\n    const btn = (document.querySelectorAll(\".ant-table-row-collapsed\") as unknown) as HTMLElement[];\n    if (btn.length) {\n      btn.forEach((b) => {\n        b.click();\n      });\n    } else {\n      clearInterval(id);\n      cb();\n    }\n  }, 350);\n}\n\nfunction yapTypePar(row: HTMLElement) {\n  const type_text = row.querySelectorAll(\"td\")[1].textContent;\n  if (type_text) {\n    return type_text;\n  } else {\n    if (row.querySelectorAll(\"td\")[5].textContent) {\n      return \"Array\";\n    } else {\n      return row.previousElementSibling.querySelectorAll(\"td\")[5].textContent.split(\": \")[1];\n    }\n  }\n}\n\nfunction yapTypeRes(table: string[][], i: number) {\n  const row = table[i];\n  if (row[1]) {\n    return row[1];\n  } else {\n    if (row[5]) {\n      return \"Array\";\n    } else {\n      return table[i - 1][5].split(\": \")[1];\n    }\n  }\n}\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_getRequireWildcardCache","WeakMap","cache","_interopRequireWildcard","__esModule","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","isDev","config","state","elementEdit","serverIp","locationUrl","decodeURIComponent","location","origin","pathname","loginCredentials","AllStoreName","input_copy","document","createElement","id","style","display","setAttribute","body","appendChild","copyTitle","el","title","getAttribute","value","select","setSelectionRange","execCommand","getSelectors","pathSelectors","nodePath","reverse","map","nodeName","getIndex","join","id_className","classList","forEach","className","index","Array","from","parentElement","children","findIndex","child","path","length","push","HTMLElementPath","filter","HTMLElement","getJSon","url","data","str","ajax_get","res","JSON","parse","console","log","jsonToURLpar","window","Promise","resolve","reject","GM","xmlHttpRequest","method","onload","response","responseText","onerror","xhr","XMLHttpRequest","addEventListener","open","send","json","keys","encodeURIComponent","arg","urlToName","split","replace","qALL","selector","t","querySelectorAll","includes","text","textContent","getTextConten","undefined","warn","getTable","tr_selector","td_selector","recognizer","table","i","tr_el","tr","j","td_el","trim","getElText","querySelector","copyStr","apiToTypeScriptCode","api","name","parse_par_List","parList","resList","toLocaleLowerCase","parse_par_item","par","level","type","describe","must","find","getRap2Api","par_el","par_table","checked","res_el","res_table","get_level_list","tr_list","match","Number","reduction_tree","str_list","level_list","hierarchy","current_hierarchy","parent","demotion_temp","getShowDocApi","swagger_bootstrap_ui","this_tab","parlist","检测元素状态","出现","变化","消失","status","html","setInterval","innerHTML","$$","getYapiApi","s","参数全展开","desNodeList","nextElementSibling","startsWith","yapTypePar","yapTypeRes","修改人列表_扩展","f","ant_row_2","href","project","readyState","list","_edit_list","edit_list","remove","div","add","Date","add_time","toLocaleString","uid","content","setRequestHeader","cb","btn","b","click","clearInterval","row","type_text","previousElementSibling","uw","unsafeWindow","getCode","fun","util","getShowDocApiCode","getYapiApiCode","get_swagger_bootstrap_ui_code","get_rap2_taobao_code","_api","get_api","getElementById","set_default","复制按钮_扩展","cssText","alert"],"version":3,"file":"api自动提取.user.js.map"}